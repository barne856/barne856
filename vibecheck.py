import random
import os
import re
from datetime import datetime

DAILY_VIBES = {
    "Monday": [
        "â˜• 5-shot espresso",
        "ğŸ“… meetings that could have been emails",
        "ğŸ˜µâ€ğŸ’« resolving merge conflicts from the weekend",
        "ğŸ§¹ cleaning up technical debt",
        "ğŸ†• starting a new branch",
        "ğŸ•¯ï¸ holding a seance for my motivation",
        "ğŸª¦ mourning the weekend",
        "ğŸ”‹ recharging from Sunday scaries",
        "ğŸ—“ï¸ 52 weeks of this",
        "ğŸ§Š frozen in the backlog",
    ],
    "Tuesday": [
        "ğŸŒ® taco tuesday",
        "2ï¸âƒ£ two's day",
        "ğŸ¤· not Monday",
        "â° only Tuesday?",
        "ğŸ’¤ still recovering from Monday",
    ],
    "Wednesday": [
        "ğŸ« hump day",
        "ğŸª halfway there",
        "ğŸ“‰ mid-week crisis",
        "ğŸ§— climbing the mountain",
        "âš–ï¸ perfectly balanced",
        "ğŸŒ€ midweek vortex",
        "â“ is it Thursday yet",
        "ğŸ¢ over the hump",
    ],
    "Thursday": [
        "ğŸ”„ pre-friday refactor",
        "ğŸ‘€ reviewing PRs with one eye open",
        "ğŸƒâ€â™‚ï¸ sprinting to the finish",
        "ğŸ‘ï¸ I can see Friday from here",
        "ğŸ final lap energy",
        "ğŸ§¹ pre-weekend cleanup",
        "ğŸ· Thursday is the new Friday",
    ],
    "Friday": [
        "ğŸ‰ deploy on friday",
        "ğŸ”¥ production on fire",
        "ğŸš« read-only filesystem",
        "ğŸ» merging to main and leaving",
        "ğŸš§ code freeze",
        "ğŸ’ƒ disco mode",
        "ğŸ“‰ git push --force and pray",
        "ğŸ«¡ deploying and disconnecting",
        "ğŸ° YOLO merge",
        "ğŸ“µ do not disturb",
        "ğŸ–ï¸ mentally checked out",
        "ğŸ”¥ future me's problem",
        "ğŸª‚ pushing to prod and jumping",
    ],
    "Saturday": [
        "ğŸŒ touching grass",
        "ğŸ® side questing",
        "ğŸ›Œ sleeping in",
        "ğŸ•¹ï¸ AFK",
        "ğŸ› ï¸ unnecessary side project",
        "ğŸŒ¿ lawn status: touched",
        "ğŸ³ brunch debugging",
    ],
    "Sunday": [
        "ğŸ˜± sunday scaries",
        "ğŸ—‘ï¸ garbage collection",
        "ğŸ§˜ preparing the mental stack",
        "â° where did the weekend go",
    ]
}

GENERAL_VIBES = [
    "â˜• 3-cups-of-coffee",
    "ğŸµ strictly matcha",
    "âš¡ dangerously caffeinated",
    "ğŸ«— running on empty",
    "ğŸ¥¤ iced coffee even in winter",
    "ğŸ• cold pizza for breakfast",
    "ğŸ’§ staying hydrated (optional)",
    "ğŸ› 'it's not a bug, it's a feature'",
    "ğŸ˜… 'works on my machine'",
    "ğŸ§¹ git clean -fdx",
    "ğŸ§± hitting a brick wall",
    "ğŸ§  flow state",
    "ğŸ“‰ premature optimization",
    "ğŸ¨ CSS centering",
    "ğŸ—ï¸ infrastructure as worry",
    "ğŸ pythonic",
    "ğŸ¦€ rusting",
    "ğŸ—‘ï¸ deleting code is my passion",
    "ğŸ¦† talking to the rubber duck",
    "ğŸ“‘ reading documentation for fun",
    "ğŸ spaghetti code sommelier",
    "ğŸ” regex wizardry",
    "ğŸ˜µ infinite recursion",
    "ğŸ’Š taking the red pill",
    "ğŸ¹ mechanical keyboard ASMR",
    "ğŸ”¬ git bisecting my life choices",
    "ğŸ§  locked in",
    "ğŸ—ï¸ building the future",
    "ğŸ”¨ smashing tickets",
    "ğŸ“ˆ momentum building",
    "ğŸ¯ actually productive",
    "ğŸª¨ steady state",
    "ğŸ”§ deep work mode",
    "ğŸ“ documenting before I forget",
    "â˜ï¸ AWS console debugging",
    "âš›ï¸ React hydration error",
    "ğŸ³ Docker container",
    "ğŸ” sudo rm -rf",
    "ğŸ•¸ï¸ fighting the DOM",
    "ğŸ“¡ DNS propagation waiting room",
    "ğŸ§± YAML indentation hell",
    "ğŸ‹ orchestrating containers",
    "ğŸ›¡ï¸ CORS policy violation",
    "ğŸª clearing cookies",
    "ğŸ”Œ turning it off and on again",
    "ğŸ§ª testing in production",
    "ğŸ§˜ zen mode",
    "ğŸŒªï¸ chaotic good",
    "ğŸŒ‘ dark mode",
    "âœ¨ main character energy",
    "ğŸ¢ slow and steady",
    "ğŸ‡ speed running production",
    "ğŸ¦– legacy code archaeologist",
    "ğŸš€ ship it",
    "ğŸ«¥ existing in the void",
    "ğŸ­ imposter syndrome",
    "ğŸ§› vampire coding hours",
    "ğŸ§Ÿ zombie process",
    "ğŸ§™â€â™‚ï¸ wizard",
    "ğŸ¤º fighting entropy",
    "ğŸ’¡ lightbulb moment",
    "ğŸ§ noise-canceling headphones",
    "ğŸ¸ lo-fi beats to code to",
    "ğŸ”‡ silence is golden",
    "ğŸ¥ heavy metal debugging",
    "ğŸŒ§ï¸ rainy day coding",
    "ğŸ”Š bass boosted",
    "ğŸ•¹ï¸ min-maxing productivity",
    "ğŸ² rolling a natural 1",
    "âš”ï¸ dungeon master",
    "ğŸ‘¾ 8-bit aesthetic",
    "ğŸŒŒ exploring the universe",
    "ğŸ¤– resisting the robot uprising",
    "ğŸ›°ï¸ raster wrangling",
    "ğŸ“ spatial indexing everything",
    "ğŸ—ºï¸ coordinate reference system crisis",
    "ğŸ“ GeoJSON geometry repair",
    "ğŸ“Š staring at loss curves",
    "ğŸ¤– attention is all you need",
    "ğŸ”® inference mode",
    "ğŸ“‰ overfitting to the vibes",
    "âš™ï¸ first principles only",
    "ğŸ§® understanding the math",
    "ğŸ“– reading the actual spec",
    "ğŸš« rejecting corporate buzzwords",
    "ğŸ”¬ mechanically correct",
    "ğŸ«  melting into the chair",
    "ğŸ¦ trash panda energy",
    "ğŸ™ too many tabs open",
    "ğŸŒ¶ï¸ spicy take incoming",
    "ğŸ¦¥ aggressive relaxation",
    "ğŸª circus mode",
    "ğŸ§ƒ juice box and a nap",
    "ğŸ«§ living in a bubble",
    "ğŸ¦´ running on fumes and spite",
    "ğŸ  same stuff different day",
    "ğŸª¤ trapped in a meeting",
    "ğŸ§² attracting edge cases",
    "ğŸ¯ tunnel vision",
    "ğŸŒ‹ quietly seething",
    "ğŸª© unhinged but functional",
    "ğŸ¦” prickly but soft inside",
    "ğŸ§« growing concerns",
    "ğŸª¦ RIP my PR",
    "ğŸ“ Clippy energy",
    "ğŸ—¿ immutable",
    "ğŸ° random.random() < 0.5",
    "ğŸ¦  viral bug",
    "ğŸšï¸ haunted codebase",
    "ğŸ§Š frozen requirements.txt",
    "ğŸ”® console.log debugging",
    "ğŸ¦• deprecated but still running",
    "ğŸª¬ code review protection spell",
    "ğŸ—¡ï¸ death by a thousand commits",
    "ğŸ§» unrolling loops manually",
    "ğŸª three-ring circus architecture",
    "ğŸ¦´ bare metal",
    "ğŸª¤ honeypot endpoint",
    "ğŸ§Š cache invalidation",
    "ğŸ² nondeterministic test",
    "ğŸ“¿ hoping the CI passes",
    "ğŸ¦ 10x lizard brain",
    "â˜¢ï¸ radioactive technical debt",
    "ğŸ´â€â˜ ï¸ pirating my own software",
    "ğŸª– production war room",
    "ğŸ¦œ parroting best practices",
    "ğŸ§ƒ junior dev juice",
    "ğŸª¨ senior dev cynicism",
    "ğŸ­ pretending to understand the requirements",
    "ğŸ§Š scope creep freezing",
    "ğŸŒŠ drowning in JIRA tickets",
]

def get_vibe():
    day = datetime.today().strftime('%A')
    if day in DAILY_VIBES and random.random() < 0.25:
        return random.choice(DAILY_VIBES[day])
    return random.choice(GENERAL_VIBES)

def update_readme(text, emoji):
    file_path = "README.md"
    if not os.path.exists(file_path):
        print("README.md not found.")
        exit(1)
    with open(file_path, "r", encoding="utf-8") as f:
        content = f.read()
    new_line = f"It's a {text} kind of day {emoji}."
    vibe_pattern = r"It's a .*? kind of day .*?\."
    if re.search(vibe_pattern, content):
        new_content = re.sub(vibe_pattern, new_line, content, count=1)
        with open(file_path, "w", encoding="utf-8") as f:
            f.write(new_content)

if __name__ == "__main__":
    vibe = get_vibe()
    parts = vibe.split(' ', 1)
    emoji = parts[0]
    text = parts[1] if len(parts) > 1 else parts[0]
    update_readme(text, emoji)
